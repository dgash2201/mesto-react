{"version":3,"sources":["components/Footer.js","images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Date","getFullYear","Header","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardRemoveButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","type","aria-label","length","Main","props","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","PopupWithForm","isOpen","onClose","title","onSubmit","action","noValidate","children","buttonText","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","event","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","_checkResponse","userData","method","body","JSON","stringify","avatarData","cardData","res","ok","json","Promise","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","handleEscKeydown","key","document","addEventListener","removeEventListener","initialPromises","getUserInfo","getInitialCards","all","initialCards","catch","error","console","log","Provider","deleteCard","filter","changeLikeCardStatus","newCard","state","c","setUserInfo","responseData","addCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"yLAQeA,MARf,WACE,OACE,wBAAQC,UAAU,sBAAlB,SACE,oBAAGA,UAAU,oBAAb,mBAAyC,IAAIC,MAAOC,cAApD,sBCHS,MAA0B,wCCU1BC,MARf,WACE,OACE,wBAAQH,UAAU,sBAAlB,SACE,qBAAKA,UAAU,oBAAoBI,IAAKC,EAAMC,IAAI,wDCH3CC,EAAqBC,IAAMC,gBCCzB,SAASC,EAAT,GAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACtDC,EAAcP,IAAMQ,WAAWT,GAC/BU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IACvCC,EAAyB,uBACbH,EAAQ,uBAAyB,uBAE7CI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OACrDM,EAAuB,qBACbJ,EAAU,oBAAsB,IAehD,OACE,qBAAIrB,UAAU,OAAd,UACE,qBAAKA,UAAU,cAAcI,IAAKO,EAAKe,KAAMpB,IAAKK,EAAKgB,KAAMC,QAdjE,WACEhB,EAAYD,MAcV,wBAAQX,UAAWoB,EAA2BQ,QAPlD,WACEd,EAAaH,EAAKQ,QAOhB,sBAAKnB,UAAU,oBAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BW,EAAKgB,OAClC,sBAAK3B,UAAU,uBAAf,UACE,wBAAQA,UAAWyB,EAAyBI,KAAK,SAASC,aAAW,2BAAOF,QAfpF,WACEf,EAAWF,MAeL,mBAAGX,UAAU,qBAAb,SAAmCW,EAAKW,MAAMS,kBC9BzC,SAASC,EAAKC,GAC3B,IAAMlB,EAAcP,IAAMQ,WAAWT,GACrC,OACE,uBAAMP,UAAU,wBAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,4BAAf,UACE,qBAAKA,UAAU,mBAAmB4B,QAASK,EAAMC,eACjD,qBAAKlC,UAAU,kBAAkBI,IAAKW,EAAYoB,OAAQ7B,IAAI,iIAEhE,sBAAKN,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+Be,EAAYY,OAC3C,wBAAQ3B,UAAU,uBAAuB6B,KAAK,SAASC,aAAW,iFAAgBF,QAASK,EAAMG,gBACjG,mBAAGpC,UAAU,kBAAb,SAAgCe,EAAYsB,WAE9C,wBAAQrC,UAAU,sBAAsB6B,KAAK,SAASC,aAAW,oGAAoBF,QAASK,EAAMK,gBAEtG,yBAAStC,UAAY,oBAArB,SACE,oBAAIA,UAAU,cAAd,SAEIiC,EAAMM,MAAMC,KAAI,SAAA7B,GAAI,OAClB,cAACD,EAAD,CAEEC,KAAMA,EACNC,YAAaqB,EAAMrB,YACnBC,WAAYoB,EAAMpB,WAClBC,aAAcmB,EAAMnB,cAJfH,EAAKQ,eCzBX,SAASsB,EAAcR,GACpC,OACE,qBAAKjC,UAAS,2BAAsBiC,EAAMN,KAA5B,YAAoCM,EAAMS,QAAU,gBAAlE,SACA,sBAAK1C,UAAU,mBAAf,UACE,wBAAQA,UAAU,sBAAsB6B,KAAK,SAAUC,aAAW,6CAAUF,QAASK,EAAMU,UAC3F,oBAAI3C,UAAU,eAAd,SAA8BiC,EAAMW,QACpC,uBAAM5C,UAAU,cAAc2B,KAAMM,EAAMN,KAAMkB,SAAUZ,EAAMY,SAAUC,OAAO,IAAIC,YAAU,EAA/F,UACGd,EAAMe,SACP,wBAAQhD,UAAU,qBAAqB6B,KAAK,SAA5C,SAAsDI,EAAMgB,qBCRrD,SAASC,EAAWjB,GACjC,OACE,qBAAKjC,UAAS,iCAA4BiC,EAAMtB,KAAKQ,KAAO,gBAA5D,SACE,sBAAKnB,UAAU,+CAAf,UACE,wBAAQA,UAAU,sBAAsB4B,QAASK,EAAMU,UACvD,yBAAQ3C,UAAU,gBAAlB,UACE,qBAAKA,UAAU,eAAeI,IAAK6B,EAAMtB,KAAKe,KAAMpB,IAAK2B,EAAMtB,KAAKgB,OACpE,4BAAY3B,UAAU,iBAAtB,SAAwCiC,EAAMtB,KAAKgB,eCH9C,SAASwB,EAAiBlB,GACvC,IAAMlB,EAAcP,IAAMQ,WAAWT,GADS,EAEtBC,IAAM4C,SAAS,IAFO,mBAEvCzB,EAFuC,KAEjC0B,EAFiC,OAGR7C,IAAM4C,SAAS,IAHP,mBAGvCE,EAHuC,KAG1BC,EAH0B,KA2B9C,OALA/C,IAAMgD,WAAU,WACdH,EAAQtC,EAAYY,MACpB4B,EAAexC,EAAYsB,SAC1B,CAACtB,EAAakB,EAAMS,SAGrB,eAACD,EAAD,CACEd,KAAK,eACLiB,MAAM,4HACNK,WAAW,yDACXP,OAAQT,EAAMS,OACdC,QAASV,EAAMU,QACfE,SArBJ,SAAsBY,GACpBA,EAAMC,iBAENzB,EAAM0B,aAAa,CACjBhC,OACAU,MAAOiB,KAUT,UAQE,wBAAOtD,UAAU,eAAjB,UACE,uBACEA,UAAU,sCACV6B,KAAK,OACLF,KAAK,WACLiC,GAAG,WACHC,YAAY,qBACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAOtC,GAAQ,GACfuC,SA1CR,SAA0BT,GACxBJ,EAAQI,EAAMU,OAAOF,UA2CjB,sBAAMjE,UAAU,yCAElB,wBAAOA,UAAU,eAAjB,UACE,uBACEA,UAAU,wCACV6B,KAAK,OACLF,KAAK,SACLiC,GAAG,SACHC,YAAY,uCACZC,UAAU,IACVC,UAAU,MACVC,UAAQ,EACRC,MAAOX,GAAe,GACtBY,SArDR,SAAiCT,GAC/BF,EAAeE,EAAMU,OAAOF,UAsDxB,sBAAMjE,UAAU,0CCjET,SAASoE,EAAgBnC,GACtC,IAAMoC,EAAW7D,IAAM8D,SAUvB,OACE,cAAC7B,EAAD,CACEd,KAAK,cACLiB,MAAM,wFACNK,WAAW,yDACXP,OAAST,EAAMS,OACfC,QAAUV,EAAMU,QAChBE,SAfJ,SAAsBY,GACpBA,EAAMC,iBAENzB,EAAMsC,eAAe,CACnBpC,OAAQkC,EAASG,QAAQP,SAK3B,SASE,wBAAOjE,UAAU,eAAjB,UACE,uBAAOA,UAAU,sCACf6B,KAAK,MACLF,KAAK,OACLiC,GAAG,cACHC,YAAY,qGACZC,UAAU,IACVC,UAAU,MACVC,UAAQ,EACRS,IAAKJ,IAEP,sBAAMrE,UAAU,8CChCT,SAAS0E,EAAczC,GAAQ,IAAD,EACnBzB,IAAM4C,SAAS,IADI,mBACpCzB,EADoC,KAC9B0B,EAD8B,OAEnB7C,IAAM4C,SAAS,IAFI,mBAEpC1B,EAFoC,KAE9BiD,EAF8B,KA0B3C,OALAnE,IAAMgD,WAAU,WACdH,EAAQ,IACRsB,EAAQ,MACP,CAAC1C,EAAMS,SAGR,eAACD,EAAD,CACEd,KAAK,YACLiB,MAAM,gEACNK,WAAW,mDACXP,OAAQT,EAAMS,OACdC,QAASV,EAAMU,QACfE,SA7BJ,SAAsBY,GACpBA,EAAMC,iBAENzB,EAAMK,WAAW,CACfX,KAAMA,EACND,KAAMA,KAkBR,UAQE,wBAAO1B,UAAU,eAAjB,UACE,uBACEA,UAAU,sCACV6B,KAAK,OACLF,KAAK,OACLiC,GAAG,aACHC,YAAY,mDACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAOtC,EACPuC,SAjCR,SAA0BT,GACxBJ,EAAQI,EAAMU,OAAOF,UAkCjB,sBAAMjE,UAAU,2CAElB,wBAAOA,UAAU,eAAjB,UACE,uBACEA,UAAU,sCACV6B,KAAK,MACLF,KAAK,OACLiC,GAAG,OACHC,YAAY,qGACZG,UAAQ,EACRC,MAAOvC,EACPwC,SA1CR,SAA0BT,GACxBkB,EAAQlB,EAAMU,OAAOF,UA2CjB,sBAAMjE,UAAU,wC,kBCuCT4E,EARH,IA/FZ,WACE,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAWJ,EAAQK,QAH5B,mDAME,WACE,OAAOC,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCG,QAASJ,KAAKG,WAEbG,KAAKN,KAAKO,kBAVjB,yBAaE,WACE,OAAOF,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCG,QAASJ,KAAKG,WAEbG,KAAKN,KAAKO,kBAjBjB,yBAoBE,SAAYC,GACV,OAAOH,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCQ,OAAQ,QACRL,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAU,CACnB/D,KAAM2D,EAAS3D,KACfU,MAAOiD,EAASjD,UAGjB+C,KAAKN,KAAKO,kBA7BjB,2BAgCE,SAAcM,GACZ,OAAOR,MAAM,GAAD,OAAIL,KAAKC,SAAT,oBAAqC,CAC/CQ,OAAQ,QACRL,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAUC,KAEpBP,KAAKN,KAAKO,kBAtCjB,qBAyCE,SAAQO,GACN,OAAOT,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCQ,OAAQ,OACRL,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAU,CACnB/D,KAAMiE,EAASjE,KACfD,KAAMkE,EAASlE,SAGlB0D,KAAKN,KAAKO,kBAlDf,wBAqDE,SAAWzB,GACT,OAAOuB,MAAM,GAAD,OAAIL,KAAKC,SAAT,kBAA2BnB,GAAM,CAC3C2B,OAAQ,SACRL,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,kBA1Df,yBA6DE,SAAYzB,GACV,OAAOuB,MAAM,GAAD,OAAIL,KAAKC,SAAT,wBAAiCnB,GAAM,CACjD2B,OAAQ,MACRL,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,kBAlEf,4BAqEE,SAAezB,GACb,OAAOuB,MAAM,GAAD,OAAIL,KAAKC,SAAT,wBAAiCnB,GAAM,CACjD2B,OAAQ,SACRL,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,kBA1Ef,kCA6EE,SAAqBzB,EAAIvC,GACvB,IAAMkE,EAASlE,EAAU,SAAW,MACpC,OAAO8D,MAAM,GAAD,OAAIL,KAAKC,SAAT,wBAAiCnB,GAAM,CACjD2B,OAAQA,EACRL,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,kBAnFf,4BAsFE,SAAeQ,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAGNC,QAAQC,OAAR,gDAA0BJ,EAAIK,aA3FzC,KA+FY,CAAQ,CAClBlB,QAAS,8CACTE,QAAS,CACPiB,cAAe,uCACf,eAAgB,sBCrFL,SAASC,IAAO,IAAD,EACgC5F,IAAM4C,UAAS,GAD/C,mBACrBiD,EADqB,KACGC,EADH,OAE8B9F,IAAM4C,UAAS,GAF7C,mBAErBmD,EAFqB,KAEEC,EAFF,OAG0BhG,IAAM4C,UAAS,GAHzC,mBAGrBqD,EAHqB,KAGAC,EAHA,OAIYlG,IAAM4C,SAAS,CAACjC,IAAK,IAJjC,mBAIrBwF,EAJqB,KAIPC,EAJO,OAKUpG,IAAM4C,SAAS,IALzB,mBAKrBrC,EALqB,KAKR8F,EALQ,OAMFrG,IAAM4C,SAAS,IANb,mBAMrBb,EANqB,KAMduE,EANc,KAwE5B,SAASC,IACPL,GAAuB,GACvBF,GAAyB,GACzBF,GAA0B,GAC1BM,EAAgB,CAACzF,IAAK,IAGxB,SAAS6F,EAAiBvD,GACN,WAAdA,EAAMwD,KAAkBF,IAoB9B,OAjBAvG,IAAMgD,WAAU,WAGd,OAFA0D,SAASC,iBAAiB,UAAWH,GAE9B,kBAAME,SAASE,oBAAoB,UAAWJ,MACpD,IAEHxG,IAAMgD,WAAU,WACd,IAAM6D,EAAkB,CAACzC,EAAI0C,cAAe1C,EAAI2C,mBAEhDvB,QAAQwB,IAAIH,GACTjC,MAAK,YAA+B,IAAD,mBAA5BE,EAA4B,KAAlBmC,EAAkB,KAClCZ,EAAevB,GACfwB,EAASW,MAEVC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,QAC/B,IAGD,qBAAK3H,UAAU,OAAf,SACE,eAACO,EAAmBuH,SAApB,CAA6B7D,MAAOlD,EAApC,UACE,cAAC,EAAD,IAEA,cAACiB,EAAD,CACEO,MAAOA,EACPH,cAzER,WACEkE,GAA0B,IAyEpBhE,WAlFR,WACEoE,GAAuB,IAkFjBxE,aA/ER,WACEsE,GAAyB,IA+EnB5F,YAxER,SAAyBD,GACvBiG,EAAgBjG,IAwEVG,aA5FR,SAA0B8C,GACxBgB,EACGmD,WAAWnE,GACXwB,MAAK,kBAAM0B,EAASvE,EAAMyF,QAAO,SAAArH,GAAI,OAAIA,EAAKQ,MAAQyC,SACtD8D,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,OAyFxB9G,WAxGR,SAAwBF,GACtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAE3DyD,EACGqD,qBAAqBtH,EAAKQ,IAAKE,GAC/B+D,MAAK,SAAC8C,GACHpB,GAAS,SAACqB,GAAD,OAAWA,EAAM3F,KAAI,SAAC4F,GAAD,OAAOA,EAAEjH,MAAQR,EAAKQ,IAAM+G,EAAUE,WAEvEV,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,SAmG1B,cAAC,EAAD,IAEA,cAACxE,EAAD,CAAkBT,OAAQ2D,EAAwB1D,QAASoE,EAAgBpD,aA3EjF,SAA0B2B,GACxBV,EACGyD,YAAY/C,GACZF,MAAK,SAACkD,GACLzB,EAAeyB,GACfvB,OAEDW,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,SAsE1B,cAACjD,EAAD,CAAehC,OAAQ+D,EAAqB9D,QAASoE,EAAgBzE,WAzD3E,SAA8BsD,GAC5BhB,EACG2D,QAAQ3C,GACRR,MAAK,SAAC8C,GACLpB,EAAS,CAACoB,GAAF,mBAAc3F,KACtBwE,OAEDW,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,SAoD1B,cAACvD,EAAD,CAAiB1B,OAAQ6D,EAAuB5D,QAASoE,EAAgBxC,eArE/E,SAA4BoB,GAC1Bf,EACG4D,cAAc7C,GACdP,MAAK,SAACkD,GACLzB,EAAeyB,GACfvB,OAEDW,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,SAgE1B,cAACzE,EAAD,CAAYvC,KAAMgG,EAAchE,QAASoE,IAEzC,cAACtE,EAAD,CAAed,KAAK,UAAUiB,MAAM,kEC3I5C,IAYe6F,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvD,MAAK,YAAkD,IAA/CwD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC/C,EAAD,MAEFc,SAASkC,eAAe,SAM1BX,K","file":"static/js/main.e976b501.chunk.js","sourcesContent":["function Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/header-logo.03b78ada.svg\";","import logo from '../images/header-logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header page__header\">\r\n      <img className=\"logo header__logo\" src={logo} alt=\"Логотип Mesto\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardRemoveButtonClassName = (\r\n    `card__remove ${isOwn ? 'card__remove_visible' : 'card__remove_hidden'}`\r\n  );\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `card__like ${isLiked ? 'card__like_active' : ''}`\r\n  );\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card._id);\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <img className=\"card__image\" src={card.link} alt={card.name} onClick={handleCardClick}/>\r\n      <button className={cardRemoveButtonClassName} onClick={handleDeleteClick}></button> \r\n      <div className=\"card__description\">\r\n        <h2 className=\"card__title\">{card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Лайк\" onClick={handleLikeClick}></button>\r\n          <p className=\"card__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <main className=\"content page__content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <div className=\"profile__overlay\" onClick={props.onEditAvatar}></div>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватарка пользователя\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Редактировать\" onClick={props.onEditProfile}></button>\r\n          <p className=\"profile__status\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" aria-label=\"Добавить карточку\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className = \"cards page__cards\">\r\n        <ul className=\"cards__list\">\r\n          {\r\n            props.cards.map(card => (\r\n              <Card \r\n                key={card._id} \r\n                card={card} \r\n                onCardClick={props.onCardClick} \r\n                onCardLike={props.onCardLike}\r\n                onCardDelete={props.onCardDelete}\r\n              />\r\n            ))\r\n          }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}","export default function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n    <div className=\"popup__container\">\r\n      <button className=\"popup__close-button\" type=\"button\"  aria-label=\"Закрыть\" onClick={props.onClose}></button>\r\n      <h2 className=\"popup__title\">{props.title}</h2>\r\n      <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit} action=\"#\" noValidate>\r\n        {props.children}\r\n        <button className=\"popup__save-button\" type=\"submit\">{props.buttonText}</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  );\r\n}","export default function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_image ${props.card._id && 'popup_opened'}`}>\r\n      <div className=\"popup__container popup__container_type_image\">\r\n        <button className=\"popup__close-button\" onClick={props.onClose}></button>\r\n        <figure className=\"popup__figure\">\r\n          <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\r\n          <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n  \r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]); \r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"edit-profile\" \r\n      title=\"Редактировать профиль\" \r\n      buttonText=\"Сохранить\"\r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input \r\n          className=\"popup__input popup__input_type_name\" \r\n          type=\"text\" \r\n          name=\"username\" \r\n          id=\"username\" \r\n          placeholder=\"Имя\" \r\n          minLength='2' \r\n          maxLength='40' \r\n          required\r\n          value={name || ''}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__input-error username-error\"></span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input \r\n          className=\"popup__input popup__input_type_status\" \r\n          type=\"text\" \r\n          name=\"status\" \r\n          id=\"status\" \r\n          placeholder=\"Статус\" \r\n          minLength='2' \r\n          maxLength='200'\r\n          required\r\n          value={description || ''}\r\n          onChange={handleDescriptionChange}\r\n        />\r\n        <span className=\"popup__input-error status-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditAvatarPopup(props) {\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"edit-avatar\" \r\n      title=\"Обновить аватар\" \r\n      buttonText=\"Сохранить\"\r\n      isOpen={ props.isOpen } \r\n      onClose={ props.onClose }\r\n      onSubmit={ handleSubmit }\r\n      \r\n    >\r\n      <label className=\"popup__field\">\r\n        <input className=\"popup__input popup__input_type_link\" \r\n          type=\"url\" \r\n          name=\"link\" \r\n          id=\"avatar-link\" \r\n          placeholder=\"Ссылка на картинку\" \r\n          minLength='2' \r\n          maxLength='200' \r\n          required\r\n          ref={inputRef}\r\n        />\r\n        <span className=\"popup__input-error avatar-link-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleLinkChange(event) {\r\n    setLink(event.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"add-place\" \r\n      title=\"Новое место\" \r\n      buttonText=\"Добавить\"\r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input \r\n          className=\"popup__input popup__input_type_name\" \r\n          type=\"text\" \r\n          name=\"name\" \r\n          id=\"place-name\" \r\n          placeholder=\"Название\" \r\n          minLength='2' \r\n          maxLength='30' \r\n          required\r\n          value={name}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__input-error place-name-error\"></span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input \r\n          className=\"popup__input popup__input_type_link\" \r\n          type=\"url\" \r\n          name=\"link\" \r\n          id=\"link\" \r\n          placeholder=\"Ссылка на картинку\" \r\n          required\r\n          value={link}\r\n          onChange={handleLinkChange}\r\n        />\r\n        <span className=\"popup__input-error link-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}","export class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n      .then(this._checkResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n      .then(this._checkResponse);\n  }\n\n  setUserInfo(userData) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  setUserAvatar(avatarData) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatarData)\n    })\n      .then(this._checkResponse);\n  }\n\n  addCard(cardData) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: cardData.name,\n        link: cardData.link\n      })\n    })\n    .then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  addCardLike(id) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  deleteCardLike(id) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    const method = isLiked ? 'DELETE' : 'PUT';\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: method,\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    \n    return Promise.reject(`Ошибка: ${res.status}`); \n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-21',\n  headers: {\n    authorization: '61dd454c-d1c5-452b-8062-22ed0eb542c2',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n","import React from 'react';\nimport '../index.css';\nimport Footer from './Footer';\nimport Header from './Header';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\n\n\nexport default function App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({_id: 0});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(error => console.log(error));\n  }\n\n  function handleCardDelete(id) {\n    api\n      .deleteCard(id)\n      .then(() => setCards(cards.filter(card => card._id !== id)))\n      .catch(error => console.log(error));\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  \n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  \n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(userData) {\n    api\n      .setUserInfo(userData)\n      .then((responseData) => {\n        setCurrentUser(responseData);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error));\n  }\n\n  function handleUpdateAvatar(avatarData) {\n    api\n      .setUserAvatar(avatarData)\n      .then((responseData) => {\n        setCurrentUser(responseData);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error));\n  }\n\n  function handleAddPlaceSubmit(cardData) {\n    api\n      .addCard(cardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error));\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setSelectedCard({_id: 0});\n  }\n\n  function handleEscKeydown(event) {\n    if (event.key === 'Escape') closeAllPopups();\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('keydown', handleEscKeydown);\n\n    return () => document.removeEventListener('keydown', handleEscKeydown);\n  }, []);\n\n  React.useEffect(() => {\n    const initialPromises = [api.getUserInfo(), api.getInitialCards()];\n\n    Promise.all(initialPromises)\n      .then(([userData, initialCards]) => {\n        setCurrentUser(userData);\n        setCards(initialCards);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick} \n          onAddPlace={handleAddPlaceClick} \n          onEditAvatar={handleEditAvatarClick} \n          onCardClick={handleCardClick}\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n        />\n\n        <Footer />\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        \n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n        <PopupWithForm name=\"confirm\" title=\"Вы уверены?\">\n        </PopupWithForm>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}